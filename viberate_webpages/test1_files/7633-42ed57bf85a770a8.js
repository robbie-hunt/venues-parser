"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7633],{41881:function(e,t,i){var n=i(24246),o=i(23615),r=i.n(o);i(27378);function a(e){var t=e.type;return(0,n.jsx)("li",{className:"item",children:(0,n.jsxs)("div",{className:"pro-entity-card rounded ".concat(t),children:[(0,n.jsx)("figure",{className:"loader-element loader-element-group no-border"}),(0,n.jsxs)("article",{children:[(0,n.jsxs)("div",{className:"loader-element-group",children:[(0,n.jsx)("div",{className:"loader-element loader-element-line"}),(0,n.jsx)("div",{className:"loader-element loader-element-line w-100"}),(0,n.jsx)("div",{className:"loader-element loader-element-line w-100"})]}),(0,n.jsx)("div",{className:"loader-element-group h-66 mt-0"})]})]})})}a.propTypes={type:r().string},t.Z=a},92870:function(e,t,i){var n=i(85034),o=i(70169),r=i(52050),a=i(3204),s=i(24246),l=i(23615),c=i.n(l),d=i(27378),u=i(92919),f=i(41881),p=i(72314),m=i(67839),g=i(71876),w=i(8411);function v(e){var t,i=e.initData,l=void 0===i?[]:i,c=e.pagination,v=e.type,y=e.getFilteredChartData,Z=e.chartsViewItem,T=e.selectedSortValue,I=e.selectedTimelineValue,E=e.filters,S=void 0===E?{}:E,C=e.find,x=e.cardViewType,b=e.allowShowMore,V=void 0===b||b,N=e.findLoading,R=void 0!==N&&N,L=e.loading,_=void 0!==L&&L,O=e.loaderRef,D=e.virtualizedConfig,P=e.chartWidth,j=e.columns,k=e.timeframe,F=e.sort,A=e.padding,G=void 0===A?null:A,Y={items:[],lastDirection:m.w.DIRECTIONS.DOWN,loading:!0,scrollToIndex:-1,pagination:c?(0,o.Z)((0,n.Z)({},c),{offsetFactor:0}):{offset:p.Lp,current:p.Lp,total:Number.MAX_SAFE_INTEGER,offsetFactor:0,page:0},loadingUpperItems:!1,loadingNextItems:!1,find:void 0,itemCount:0,rowCount:0,cardViewType:x||m.t3.LIST,rowSize:x===m.t3.GRID?p.Re[v].cardHeight.default:D.list.cardHeight.default,itemsPerRow:x===m.t3.GRID?p.Re[v].itemsPerRow.default:1},U=(0,d.useState)(Y),H=U[0],W=U[1],z=(0,r.Z)((0,w.i)(),1)[0],M=(0,d.useRef)(null),q=null!=G?G:p.ig[H.cardViewType],B=(0,g.Z)(O,"200px"),Q=!!(null===(t=H.pagination.cursors)||void 0===t?void 0:t.next),K=function(e){var t,i,r=e.limit,s=void 0===r?p.ye:r,l=e.direction,c=void 0===l?m.w.DIRECTIONS.DOWN:l,d=e.previous,u={};c===m.w.DIRECTIONS.DOWN?t=(0,o.Z)((0,n.Z)({},S),{next:null===(i=H.items)||void 0===i?void 0:i[H.items.length-1].uuid}):t=c===m.w.DIRECTIONS.UP?(0,o.Z)((0,n.Z)({},S),{previous:H.items[0].uuid}):(0,o.Z)((0,n.Z)({},S),{previous:d});W((function(e){return(0,n.Z)((0,o.Z)((0,n.Z)({},e),{loading:!0}),u)})),H.items.length<p.Lp&&(s=p.Lp-H.items.length),y(v,t,!1,s,!1).then((function(e){e&&e.data&&W((function(t){var i,r=(0,a.Z)(t.items);if(c===m.w.DIRECTIONS.DOWN){var s=t.itemCount+e.data.cursor_pagination.current,l=h(s+t.pagination.offsetFactor),d=-1;t.pagination.page<l.page&&(d=l.offset-p.ye),s=l.offset,r.length>=p.Lp&&r.splice(0,e.data.cursor_pagination.current),i={items:(0,a.Z)(r).concat((0,a.Z)(e.data.data)),pagination:(0,n.Z)({},e.data.cursor_pagination,l),loading:!1,loadingUpperItems:!1,loadingNextItems:!1,scrollToIndex:d,lastDirection:m.w.DIRECTIONS.DOWN,itemCount:s,rowCount:s}}else if(c===m.w.DIRECTIONS.UP){var u=e.data.cursor_pagination.current,f=t.itemCount-u;r.splice(p.Lp-u,u),i={items:(0,a.Z)(e.data.data).concat((0,a.Z)(r)),pagination:(0,o.Z)((0,n.Z)({},t.pagination),{cursors:e.data.cursor_pagination.cursors}),loading:!1,loadingUpperItems:!1,lastDirection:m.w.DIRECTIONS.UP,itemCount:f,rowCount:f}}else{var g=h(t.pagination.offsetFactor);i={items:e.data.data,pagination:(0,n.Z)({},t.pagination,e.data.cursor_pagination,g),loading:!1,scrollToIndex:g.offset,itemCount:g.offset,rowCount:g.offset}}return(0,n.Z)({},t,i)}))})).catch((function(e){console.warn("ERROR",e),W((function(e){return(0,o.Z)((0,n.Z)({},e),{loading:!1,loadingUpperItems:!1})}))}))};(0,d.useEffect)((function(){_&&W((function(e){return(0,o.Z)((0,n.Z)({},Y),{rowSize:e.rowSize,cardViewType:e.cardViewType,items:(0,a.Z)(Array(p.Lp).fill(null)),itemCount:p.Lp,rowCount:p.Lp})}))}),[_]),(0,d.useEffect)((function(){if(l&&l.length>0){var e=c.offset+c.current,t=h(e);e=t.offset,W((function(i){var o={items:l,pagination:(0,n.Z)({},c,t),loadingUpperItems:!1,loading:!1,itemCount:e,rowCount:e};return(0,n.Z)({},i,o)}))}}),[l,c]),(0,d.useEffect)((function(){!H.loadingUpperItems||-1!==H.scrollToIndex||H.loading||R||_||K({limit:p.ye,direction:m.w.DIRECTIONS.UP})}),[H.loadingUpperItems]),(0,d.useEffect)((function(){var e=x===m.t3.GRID?p.Re[v].itemsPerRow.default:1;W((function(t){return(0,o.Z)((0,n.Z)({},t),{cardViewType:x,itemsPerRow:e})}))}),[x]),(0,d.useEffect)((function(){_||W((function(e){var t=(0,n.Z)({},e),i=e.itemCount;return x===m.t3.GRID&&(i=Math.ceil(e.itemCount/e.itemsPerRow)),t.rowCount=i,t}))}),[H.cardViewType,H.pagination,H.itemsPerRow]),(0,d.useEffect)((function(){(B||H.loadingNextItems)&&!H.loading&&H.items.length&&Q&&V&&!_&&(K({limit:p.ye,direction:m.w.DIRECTIONS.DOWN}),W((function(e){return(0,o.Z)((0,n.Z)({},e),{rowCount:e.rowCount+p.ye/e.itemsPerRow})})))}),[B,H.loadingNextItems]),(0,d.useEffect)((function(){var e,t=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"default";var i=t?p.Y5:p.gY;switch(!0){case e<i.xs:return"xs";case e<i.s:return"s";case e<i.m:return"m";case e<i.l:return"l";case e<i.xl:return"xl";default:return"default"}}(z,x===m.t3.GRID);if(H.cardViewType===m.t3.GRID){var i=p.Re[v].itemsPerRow[t]||p.Re[v].itemsPerRow.default;e=p.Re[v].cardHeight[t],e-=(p.Y5[t]-z)*p.Re[v].factor[t],W((function(t){return(0,o.Z)((0,n.Z)({},t),{itemsPerRow:i,rowSize:e})}))}else e=D.list.cardHeight[t]||D.list.cardHeight.default,W((function(t){return(0,o.Z)((0,n.Z)({},t),{rowSize:e})}))}),[z,H.cardViewType]),(0,d.useEffect)((function(){C&&W((function(e){var t=e.items.findIndex((function(e){return e.uuid===C}))+e.itemCount-e.items.length;return(0,o.Z)((0,n.Z)({},e),{scrollToIndex:t,find:C})}))}),[C]),(0,d.useEffect)((function(){H.scrollToIndex&&-1!==H.scrollToIndex&&(window.scrollTo(0,(H.rowSize+q)*(H.scrollToIndex/H.itemsPerRow)-window.innerHeight/2+M.current._positionFromTop),setTimeout((function(){W((function(e){return(0,o.Z)((0,n.Z)({},e),{scrollToIndex:-1,loadingUpperItems:!1})}))}),500))}),[H.scrollToIndex]);var X=function(e){var t=e.index,i=e.style,r=e.key,l=e.isVisible;return H.cardViewType===m.t3.GRID?function(e){var t,i=e.index,r=e.style,l=e.state,c=e.setState,d=e.chartsViewItem,u=e.filters,m=e.selectedSortValue,g=e.selectedTimelineValue,w=e.type,v=e.fetchData,h=e.isVisible,y=l.itemCount%l.itemsPerRow,Z=l.itemCount-y,T=i-(Z-l.items.length)/l.itemsPerRow,I=y,E=T*l.itemsPerRow-I;t=E>=0&&E<p.Lp?l.items.slice(E,E+l.itemsPerRow):E<0&&E>=0-I?(0,a.Z)(Array(I).fill(null)).concat((0,a.Z)(l.items.slice(0,l.itemsPerRow-I))):new Array(l.itemsPerRow).fill(null);t.includes(null)&&!l.loadingUpperItems&&E<p.Lp&&c((function(e){return(0,o.Z)((0,n.Z)({},e),{loadingUpperItems:!0})}));t.filter((function(e){return e})).length&&0===i&&h&&l.pagination.page>0&&!l.loading&&v({limit:p.Lp,previous:null===t||void 0===t?void 0:t[0].uuid,direction:null});return(0,s.jsx)("div",{index:i,style:(0,n.Z)({display:"flex",flexDirection:"row"},r),children:t.map((function(e,t){return e?d({item:e,index:i*l.itemsPerRow+t,filters:u,selectedSortValue:m,selectedTimelineValue:g,style:r,type:w,cardViewType:l.cardViewType,find:l.find}):(0,s.jsx)(f.Z,{type:w})}))},i)}({index:t,style:i,state:H,setState:W,chartsViewItem:Z,filters:S,selectedSortValue:T,selectedTimelineValue:I,type:v,fetchData:K,isVisible:l}):function(e){var t=e.index,i=e.style,r=e.state,a=e.setState,s=e.chartsViewItem,l=e.filters,c=e.selectedSortValue,d=e.selectedTimelineValue,u=e.type,f=e.key,m=e.fetchData,g=e.isVisible,w=e.columns,v=e.timeframe,h=e.sort,y=t-(r.itemCount-r.items.length),Z=r.items[y]||null;!Z&&!r.loadingUpperItems&&y<p.Lp&&a((function(e){return(0,o.Z)((0,n.Z)({},e),{loadingUpperItems:!0})}));Z&&0===t&&g&&r.pagination.page>0&&!r.loading&&-1===r.scrollToIndex&&m({limit:p.Lp,previous:Z.uuid,direction:null});!Z||t!==r.itemCount-1||r.loadingNextItems||r.loading||a((function(e){return(0,o.Z)((0,n.Z)({},e),{loadingNextItems:!0})}));return s({item:Z,index:t+r.pagination.offsetFactor,filters:l,selectedSortValue:c,selectedTimelineValue:d,style:i,type:u,cardViewType:r.cardViewType,find:r.find,cardHeight:r.rowSize,key:f,columns:w,timeframe:v,sort:h})}({index:t,style:i,state:H,setState:W,chartsViewItem:Z,filters:S,selectedSortValue:T,selectedTimelineValue:I,type:v,key:r,fetchData:K,isVisible:l,columns:j,timeframe:k,sort:F})};return(0,s.jsx)(d.Fragment,{children:(0,s.jsx)(u._K,{scrollElement:window,ref:M,children:function(e){var t=e.height,i=e.isScrolling,n=e.registerChild,o=e.onChildScroll,r=e.scrollTop;return(0,s.jsx)(d.Fragment,{children:(0,s.jsx)(u.qj,{disableHeight:!0,children:function(e){var a=e.width;return(0,s.jsx)("div",{ref:n,children:(0,s.jsx)(u.aV,{ref:function(e){window.listEl=e},autoHeight:!0,height:t,isScrolling:i,onScroll:o,overscanRowCount:10,rowCount:H.rowCount,rowHeight:H.rowSize+q,rowRenderer:X,scrollTop:r,width:P||a})})}})})}})})}function h(e){var t=0,i=0,n=e%p.HZ;return t=e-n,e>p.HZ?(e>t+2*p.ye?e=n:(e=n+p.HZ,t-=p.HZ),i=t/p.HZ):t=0,{offset:e,offsetFactor:t,page:i}}v.propTypes={initData:c().array,pagination:c().object,type:c().string,getFilteredChartData:c().func,cardHeight:c().number,chartsViewItem:c().func,selectedSortValue:c().object,selectedTimelineValue:c().object,filters:c().object,find:c().string,cardViewType:c().string,allowShowMore:c().bool,findLoading:c().bool,loading:c().bool,loaderRef:c().object,virtualizedConfig:c().object,setLoader:c().func},t.Z=v},18617:function(e,t,i){var n=i(85034),o=i(70169),r=i(52050),a=i(24246),s=(i(27378),i(8411)),l=i(25128);function c(e){var t=e.savedCharts,i=e.savedChartsRef,c=e.setSavedChartsOpen,d=(0,r.Z)((0,s.i)(),1)[0],u={};if(i&&i.current){var f=i.current;if(d<1390){var p=document.querySelectorAll(".saved-charts");if(p.length>1){var m=p[1].getBoundingClientRect();u.right=document.body.getBoundingClientRect().width-m.left-m.width-24}u.left="auto"}else u.left=f.offsetLeft-20}return(0,a.jsx)("div",{className:"pro-content-nav-options absolute show",style:(0,n.Z)({},u),onMouseOver:function(){return c(!0)},onMouseLeave:function(){return c(!1)},children:t&&t.length?(0,a.jsx)("ul",{className:"list-nav-options",children:t.map((function(e){return e="lite"==e.chart_type?(0,o.Z)((0,n.Z)({},e),{url:e.url.replace("/artist/basic/","/artist/charts/")}):e,(0,a.jsx)(l.Z,{savedChart:e},e.id)}))}):(0,a.jsxs)("div",{className:"zero-state",children:[(0,a.jsxs)("div",{className:"txt",children:[(0,a.jsx)("strong",{children:"You didn't save any charts yet"}),'To save sorting, timeframe and filters click "Save Chart" button placed below the timeframes.']}),(0,a.jsx)("button",{className:"btn btn-save-chart small outline shadow",children:"Save Chart"})]})})}c.propTypes={},t.Z=c},9735:function(e,t,i){i.d(t,{Z:function(){return C}});var n=i(17599),o=i(85034),r=i(70169),a=i(52050),s=i(25326),l=i(86677),c=i.n(l),d=i(27378),u=i(20472),f=i(46367),p=i(72314),m=i(67839),g=i(8534),w=i(34348),v=i(30477),h=i(98685),y=i(92795),Z=i(55988);i(17827);var T=function(){var e=(0,d.useState)({scrollTop:0,direction:""}),t=e[0],i=e[1],n=function(e){i((function(e){var t;return t=e.scrollTop<document.documentElement.scrollTop?"down":"up",{scrollTop:document.documentElement.scrollTop,direction:t}}))};(0,d.useEffect)((function(){var e=document.getElementsByClassName("sticky-wrapper");if("down"===t.direction){var i=!0,n=!1,o=void 0;try{for(var r,a=e[Symbol.iterator]();!(i=(r=a.next()).done);i=!0){r.value.classList.remove("show-nav")}}catch(f){n=!0,o=f}finally{try{i||null==a.return||a.return()}finally{if(n)throw o}}}else{var s=!0,l=!1,c=void 0;try{for(var d,u=e[Symbol.iterator]();!(s=(d=u.next()).done);s=!0){d.value.classList.add("show-nav")}}catch(f){l=!0,c=f}finally{try{s||null==u.return||u.return()}finally{if(l)throw c}}}}),[t.direction]),(0,d.useEffect)((function(){window.addEventListener("scroll",n),i((0,r.Z)((0,o.Z)({},t),{scrollTop:document.documentElement.scrollTop}));var e=document.querySelector(".sticky-wrapper"),s=new IntersectionObserver((function(e){var t=(0,a.Z)(e,1)[0];document.querySelectorAll(".sticky-wrapper").forEach((function(e){e.classList.toggle("is-sticky",t.intersectionRatio<1)}))}),{threshold:[1]});return e&&s.observe(e),function(){window.removeEventListener("scroll",n),s.disconnect}}),[])},I=i(75089),E=i(25296),S=i(56326),C=function(e){var t,i,l=e.chartsViewComponent,C=e.buildFiltersFromUrl,x=e.getSelectedSortParams,b=e.getFilteredChartData,V=e.getAvailableFilters,N=e.setAvailableFilters,R=e.pagePath,L=e.find,_=e.types,O=e.capacities,D=e.sizes,P=e.highlights,j=e.thisWeek,k=e.countries,F=e.genres,A=e.continents,G=e["beatport-genres"],Y=e["spotify-genres"],U=e.subgenres,H=e.timeframes,W=e.statuses,z=e.hotness,M=e.following,q=e.apple,B=e["curator-uuid"],Q=e.contact,K=e.pagePermissionsType,X=e.sort,J=e["released-past"],$=e.currentView,ee=e[p.vw.min],te=e[p.vw.max],ie=e[p.vw.filter],ne=e[p.L7.min],oe=e[p.L7.max],re=e[p.L7.filter],ae=e.sortParams,se=e.forbiddenFilters,le=e.city,ce=void 0===le?"":le,de=e.facetsType,ue=e.useBeatportGenres,fe=e.loadingDispatch,pe=e.optimized,me=e["playlist-types"],ge=e["popularity-types"],we=e["released-types"],ve=e.cols,he=e.timeframe,ye=e["sort-country"],Ze=e["released-from"],Te=e["released-to"],Ie=e.defaultTimeframe,Ee=void 0===Ie?p.TA:Ie,Se=e.pct,Ce=e.email,xe=e.link,be=e["in-city"],Ve=e["major-labels"],Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Me)Pe((function(e){return(0,r.Z)((0,o.Z)({},e),{data:[],loading:!1})}));else if("artist.charts.basic"===l.id||null!==ze)if(Pe((function(e){return(0,r.Z)((0,o.Z)({},e),{loading:!0})})),t?Pe((function(e){return(0,r.Z)((0,o.Z)({},e),{findElement:void 0})})):L=null,De.initialLoad&&fe({type:f.V_.SET_SECTION_LOADING,section:"sorting",value:!0}),b(Ye,Ue,0,i,!1,L,e).then((function(e){if(e.data||(e.data=[]),e&&e.data){var i=(0,r.Z)((0,o.Z)({},e.data),{loading:!1,cityName:(0,S.Fu)(),loadCount:0,initialLoad:!1});pe&&(i.pagination=(0,o.Z)({offset:0},e.data.cursor_pagination)),t&&L&&(i.findElement=L,i.findLoading=!1),Pe((function(e){return(0,r.Z)((0,o.Z)({},e,i),{paywall:!1})})),fe({type:f.V_.SET_SECTION_LOADING,section:"sorting",value:!1}),De.initialLoad&&(0,u.bC)($,ot)}else fe({type:f.V_.SET_SECTION_LOADING,section:"sorting",value:!1})})).catch((function(e){Pe((function(t){return null==e.response||null==e.response.status||400!==e.response.status&&403!==e.response.status&&404!==e.response.status&&500!==e.response.status?(0,v.ne)(e)?(0,o.Z)({},t):(0,r.Z)((0,o.Z)({},t),{loading:!1,initialLoad:!1,findLoading:!1}):403===e.response.status?(0,r.Z)((0,o.Z)({},t),{data:[],loading:!1,findLoading:!1,paywall:!0}):(0,r.Z)((0,o.Z)({},t),{data:[],loading:!1,findLoading:!1})})),null!=e.response&&null!=e.response.status&&412===e.response.status&&"location_not_known"===e.response.data.error&&Ye!==m.w8.venue.word&&nt(),fe({type:f.V_.SET_SECTION_LOADING,section:"sorting",value:!1}),console.warn(e)})).finally((function(){L||(0,S.SM)()})),V){var a=de?(0,r.Z)((0,o.Z)({},Ue),(0,n.Z)({},de,1)):Ue;fe({type:f.V_.SET_SECTION_LOADING,section:"sidebar",value:!0}),V(Ye,a,!1,e).then((function(e){Pe((function(e){return(0,r.Z)((0,o.Z)({},e),{initialLoad:!1})})),fe({type:f.V_.SET_SECTION_LOADING,section:"sidebar",value:!1}),e&&e.data&&e.data.data?Fe(e.data.data):console.warn("Filter data is unavailable in response")})).catch((function(e){console.warn(e),fe({type:f.V_.SET_SECTION_LOADING,section:"sidebar",value:!1})}))}else fe({type:f.V_.SET_SECTION_LOADING,section:"sidebar",value:!1});else Pe((function(e){return(0,r.Z)((0,o.Z)({},e),{data:[],loading:!1})}))},Re=(0,I.Z)().enums,Le=(0,h.Z)(),_e=!(!z||Le&&!(Le.userLevel<g.F6.PREMIUM)),Oe=(0,d.useState)({loading:!0,city:ce||(0,S.Fu)(""),data:[],loadCount:0,cardViewType:m.t3.LIST,initialLoad:!0,findLoading:!1,paywall:!1}),De=Oe[0],Pe=Oe[1];(0,d.useEffect)((function(){Pe((function(e){return(0,r.Z)((0,o.Z)({},e),{city:ce})}))}),[ce]);var je=(0,d.useState)(),ke=je[0],Fe=je[1];N&&!ke&&Fe(N(Re));var Ae=g.Q4[g.F6.LITE];(null===Le||void 0===Le?void 0:Le.userLevel)>g.F6.LITE&&(Ae=g.Q4[g.F6.PREMIUM]),null!==Le?(t=(0,S.ke)(Ae,"".concat(K,".allowShowMore"),!1),i=(0,S.ke)(Ae,"".concat(K,".artistsLimit"),p.tG)):"artist.charts.basic"===l.id&&(i=p.tG,t=!1);var Ge,Ye=R[0],Ue=C((Ge={types:_,capacities:O,sizes:D,highlights:P,thisWeek:j,countries:k,genres:F,"beatport-genres":G,"spotify-genres":Y,following:M,subgenres:U,timeframes:H,statuses:W,hotness:z,"curator-uuid":B,apple:q,contact:Q,continents:A},(0,n.Z)(Ge,p.vw.min,ee),(0,n.Z)(Ge,p.vw.max,te),(0,n.Z)(Ge,p.vw.filter,ie),(0,n.Z)(Ge,p.L7.min,ne),(0,n.Z)(Ge,p.L7.max,oe),(0,n.Z)(Ge,p.L7.filter,re),(0,n.Z)(Ge,"released-past",J),(0,n.Z)(Ge,"playlist-types",me),(0,n.Z)(Ge,"popularity-types",ge),(0,n.Z)(Ge,"released-types",we),(0,n.Z)(Ge,"cols",ve),(0,n.Z)(Ge,"timeframe",he),(0,n.Z)(Ge,"sort-country",ye),(0,n.Z)(Ge,"released-from",Ze),(0,n.Z)(Ge,"released-to",Te),(0,n.Z)(Ge,"pct",Se),(0,n.Z)(Ge,"email",Ce),(0,n.Z)(Ge,"link",xe),(0,n.Z)(Ge,"in-city",be),(0,n.Z)(Ge,"major-labels",Ve),Ge),Re,Ye,K);$!==m.wp.CHARTSVIEW?(X||(X=ae.defaultSort),Ue.sort=X):X&&(Ue.sort=X);var He=(0,E.Z)({Component:l,filters:(0,r.Z)((0,o.Z)({},Ue),{find:L,sort:X}),pagePath:R,Router:c(),find:L,forbiddenFilters:se,hotnessDisallowed:_e,cardViewType:De.cardViewType,type:Ye,condition:[De.cardViewType,_e,null===De||void 0===De?void 0:De.paywall],setPaywall:null===De||void 0===De?void 0:De.paywall}),We=He.Component,ze=He.user,Me=!("artist.charts.basic"!==l.id||ze||!(F||U||k||O||H||D||P||W||L||_));if(l.basicViewRegistrationWall=Me,ue){var qe=Ue["beatport-genres"]?Ue["beatport-genres"][0].id:"overall";ae.prefix=Ye===m.w8.track.word?"":"beatport-"+qe+"-"}if(X&&K.includes("AirplayChartsView")){ae.prefix=X.split("-").slice(0,2).join("-")+"-";var Be=ae.sortingOptions.findIndex((function(e){return"countries"===e.value}));ae.prefix.includes("overall")?ae.sortingOptions[Be].disabled=!1:ae.sortingOptions[Be].disabled=!0}X&&K.includes("YoutubeChartsView")&&(ae.prefix=X.split("-").slice(0,2).join("-")+"-",ae.sortingOptions.forEach((function(e){e.disabled=!ae.prefix.includes("overall")&&"views"!==e.value})),ae.timelinesOptions.forEach((function(e){e.disabled=!ae.prefix.includes("overall")&&"1m"!==e.value})));var Qe=(0,a.Z)(x(Ue.sort?Ue.sort:ae.defaultSort,ae.sortingOptions,ae.timelinesOptions,ae.prefix,ae.chartAllTimeIndex),2),Ke=Qe[0],Xe=Qe[1],Je=(0,S.wj)(ze,De.loadCount),$e=(0,S.PY)((0,S.ke)(De,"pagination.total",0),"."),et=!(!De.pagination||!De.pagination.offset)&&(De.pagination.offset-m.w.VIEW_ENTRIES_PER_PAGE<0&&De.pagination.offset-m.w.VIEW_ENTRIES_PER_PAGE<=0-m.w.VIEW_ENTRIES_PER_PAGE),tt=(0,Z.Z)({type:Ye,city:ce,filters:Ue,fetchData:Ne,find:L,updateUrl:!1,popup:!1}),it=tt.cityState,nt=tt.citySelectPopup,ot=(0,s.rN)().setIsOpen;(0,d.useEffect)((function(){window.dispatchEvent(new CustomEvent("scroll"))}),[ze]),(0,d.useEffect)((function(){return w.Z.setGlobalToken(),Ne(ce),function(){w.Z.cancelWithGlobalToken("Component unmounted, fetch canceled.")}}),[L,_,O,D,P,j,k,F,U,H,W,X,z,M,B,q,Q,ze?ze.uuid:null,Me,G,Y,ce,A,ee,te,ie,ne,oe,re,J,me,ge,we,ve,he,ye,Ze,Te,Se,Ce,xe,be,Ve]),T();var rt=(0,a.Z)((0,y.Z)((function(){}),".section-".concat(De.cardViewType,"-view")),1)[0],at=(0,d.useCallback)((function(e){if(V){var t=de?(0,r.Z)((0,o.Z)({},Ue),(0,n.Z)({},de,1)):Ue;t[p.L7.filter]=e,fe({type:f.V_.SET_SECTION_LOADING,section:"range",value:!0}),V(Ye,t,!1).then((function(e){fe({type:f.V_.SET_SECTION_LOADING,section:"range",value:!1}),e&&e.data&&e.data.data?Fe(e.data.data):console.warn("Filter data is unavailable in response")})).catch((function(e){console.warn(e),fe({type:f.V_.SET_SECTION_LOADING,section:"range",value:!1})}))}}),[]);return{state:De,filters:Ue,user:ze,isRegistrationWall:Je,allowShowMore:t,topOfPage:et,type:Ye,scrollLoader:rt,availableFilterOptions:ke,backToTopHandler:function(){Pe((function(e){return(0,r.Z)((0,o.Z)({},e),{loading:!0})})),window.scrollTo(0,0),Ne(ce,!1)},totalResults:$e,paywall:We,sortParams:ae,selectedSortValue:Ke,selectedTimelineValue:Xe,basicViewRegistrationWall:Me,cityState:it,setCardViewType:(0,d.useCallback)((function(e){Pe((function(t){return(0,r.Z)((0,o.Z)({},t),{cardViewType:e})}))}),[]),findEntity:(0,d.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;Pe((function(e){return(0,r.Z)((0,o.Z)({},e),{findLoading:!0})})),e&&ze&&(L=t,Ne())}),[]),updateAvailableFilters:at,timeframe:he||Ee}}},91054:function(e,t,i){i.d(t,{j:function(){return a}});var n=i(85034),o=i(70169),r=i(27378);i(67839);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=(0,r.useState)({scrollY:0,toggled:!1}),i=t[0],a=t[1];(0,r.useEffect)((function(){var t=function(){var t=document.getElementsByTagName("body")[0];window.scrollY>100&&window.scrollY<i.scrollY?i.scrollY-window.scrollY>e?(t.classList.add("header-fixed","header-is-sticky","header-fixed-listing"),a({scrollY:window.scrollY,toggled:!0})):i.toggled&&a((function(e){return(0,o.Z)((0,n.Z)({},e),{scrollY:window.scrollY})})):window.scrollY-i.scrollY>e?(t.classList.remove("header-fixed","header-is-sticky","header-fixed-listing"),a({scrollY:window.scrollY,toggled:!1})):window.scrollY<=100&&t.classList.remove("header-fixed","header-is-sticky","header-fixed-listing")};return document.addEventListener("scroll",t,{passive:!0}),function(){return document.removeEventListener("scroll",t)}}),[i.scrollY])}},92795:function(e,t,i){var n=i(27378),o=i(67839);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".container",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:750,r=(0,n.useState)(!1),a=r[0],s=r[1];(0,n.useEffect)((function(){return window.addEventListener("scroll",l),function(){return window.removeEventListener("scroll",l)}}),[t]),(0,n.useEffect)((function(){a&&e()}),[a]);var l=(0,n.useCallback)((function(){if(document.querySelector(t))return window.innerHeight+window.scrollY+i>document.querySelector(t).offsetHeight?s(o.w.DIRECTIONS.DOWN):window.scrollY<i+document.querySelector(t).offsetTop?s(o.w.DIRECTIONS.UP):void 0}),[t]);return[a,s]}}}]);