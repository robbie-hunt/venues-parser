(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[910],{4639:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/genre",function(){return r(14280)}])},62585:function(e,n,r){"use strict";var s=r(85034),i=r(70169),a=r(24246),t=r(79894),l=r.n(t),c=r(23615),d=r.n(c),u=r(27378),o=r(35678),h=r(67839),g=r(56326);function m(e){var n=e.id,r=(0,u.useContext)(o.x).getState().enums,t=n?h.WJ.genreOrder.find((function(e){return e.id===parseInt(n)})):null,c=(0,u.useState)({genres:[],filtered:[],genreMap:{},searchText:"",inputName:(0,g.YO)(10),activeSquare:t?t.index:h.WJ.defaultSquare,activeList:t?t.id:h.WJ.defaultGenre}),d=c[0],m=c[1];(0,u.useEffect)((function(){var e=function(e){var s=r.genres[e],i=h.WJ.genreOrder.find((function(e){return e.id===s.id}));n.push({name:s.name,id:s.id,type:s.slug,slug:s.slug,label:s.subgenres.length+" subgenres",index:i.index});var t=!0,l=!1,c=void 0;try{for(var d,u=s.subgenres[Symbol.iterator]();!(t=(d=u.next()).done);t=!0){var o=d.value;n.push({name:o.name,id:s.id+"-"+o.id,type:"subgenre",slug:o.slug,label:s.name,index:i.index})}}catch(g){l=!0,c=g}finally{try{t||null==u.return||u.return()}finally{if(l)throw c}}a[s.id]=s},n=[],a={};for(var t in r.genres)e(t);return n.sort((function(e,n){return e.name<n.name?-1:1})),m((0,i.Z)((0,s.Z)({},d),{genres:n,filtered:n,genreMap:a})),window.addEventListener("resize",f),function(){window.removeEventListener("resize",f)}}),[]);var f=function(){window.innerWidth>1023&&m((function(e){return e.activeSquare?(0,s.Z)({},e):(0,i.Z)((0,s.Z)({},e),{activeSquare:h.WJ.defaultSquare,activeList:h.WJ.defaultGenre})}))};(0,u.useEffect)((function(){if(d.genres.length>0&&d.activeSquare){var e=document.getElementById("square-"+d.activeSquare).offsetTop- -130;window.innerWidth<1024&&window.scrollTo({top:e,behavior:"smooth"})}}),[d.activeSquare]);var v=function(e,n){window.innerWidth<1024&&e===d.activeSquare&&(e=!1,n=!1),m((0,i.Z)((0,s.Z)({},d),{activeSquare:e,activeList:n}))};return(0,a.jsx)("main",{className:"main",children:(0,a.jsx)("section",{className:"section section-genres-landing",children:(0,a.jsx)("div",{className:"page",children:(0,a.jsxs)("div",{className:"section-main",children:[(0,a.jsxs)("aside",{className:"genres-landing-sidebar",children:[(0,a.jsx)("div",{className:"genres-landing-header",children:(0,a.jsx)("h2",{children:"Genres map"})}),(0,a.jsxs)("div",{className:"genres-landing-genres-list",children:[(0,a.jsx)("div",{className:"pro-search",children:(0,a.jsx)("div",{className:"search-wrapper",children:(0,a.jsx)("input",{type:"text",className:"pro-search-input",name:d.inputName,autoComplete:"off",onChange:function(e){var n=e.target.value,r=[],a=!0,t=!1,l=void 0;try{for(var c,u=d.genres[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var o=c.value,h=o.name.toLowerCase();(n.length<1||h.indexOf(n.toLowerCase())>-1)&&r.push(o)}}catch(g){t=!0,l=g}finally{try{a||null==u.return||u.return()}finally{if(t)throw l}}m((0,i.Z)((0,s.Z)({},d),{searchText:n,filtered:r}))},value:d.searchText,placeholder:"Search genre"})})}),(0,a.jsx)("div",{className:"genres-list",children:d.filtered.length<1?(0,a.jsx)("div",{className:"item",children:(0,a.jsx)("div",{className:"zero-state",children:(0,a.jsx)("p",{children:"No results found."})})}):d.filtered.map((function(e){var n="subgenre"===e.type?"subgenre":"genre";return(0,a.jsx)("div",{className:"item "+(d.activeList===e.id?"active":""),onClick:function(){return v(e.index,e.id)},children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"genre-info",children:(0,a.jsx)("div",{className:"genre-title "+e.type,children:(0,a.jsx)("h3",{title:e.name,children:e.name})})}),(0,a.jsxs)("div",{className:"counter",children:[(0,a.jsx)("span",{children:e.label}),(0,a.jsx)(l(),{href:"/".concat(n,"/profile?slug=").concat(e.slug),as:"/".concat(n,"/").concat(e.slug),children:(0,a.jsx)("a",{children:"View more"})})]})]})},e.slug)}))})]})]}),(0,a.jsx)("div",{className:"genres-landing-content",children:(0,a.jsx)("div",{className:"genres-map-wrapper",children:(0,a.jsx)("ul",{className:"genres-map-items-list open-"+d.activeSquare,children:h.WJ.genreOrder.map((function(e){var n=d.genreMap[e.id];if(n)return(0,a.jsx)("li",{id:"square-"+e.index,className:"genres-map-item",children:(0,a.jsx)("div",{onClick:function(){return v(e.index,n.id)},className:"genres-map-square "+n.slug,children:(0,a.jsxs)("article",{children:[(0,a.jsxs)("div",{className:"title",children:[(0,a.jsx)("h4",{children:(0,a.jsx)(l(),{href:"/genre/profile?slug=".concat(n.slug),as:"/genre/".concat(n.slug),children:(0,a.jsx)("a",{title:n.name,children:n.name})})}),(0,a.jsxs)("span",{className:"info",children:[n.subgenres.length," subgenres"]})]}),(0,a.jsxs)("ul",{className:"genres",children:[(0,a.jsx)("li",{className:"item",children:(0,a.jsx)("a",{href:"/genre/"+n.slug,title:n.name,rel:"noreferrer",children:n.name})},n.id),n.subgenres.map((function(e){return(0,a.jsx)("li",{className:"item",children:(0,a.jsx)(l(),{href:"/subgenre/profile?slug=".concat(e.slug),as:"/subgenre/".concat(e.slug),children:(0,a.jsx)("a",{children:e.name})})},e.id)}))]})]})})})}))})})})]})})})})}m.propTypes={id:d().number},n.Z=m},14280:function(e,n,r){"use strict";r.r(n);var s=r(62585);n.default=s.Z}},function(e){e.O(0,[9774,2888,179],(function(){return n=4639,e(e.s=n);var n}));var n=e.O();_N_E=n}]);